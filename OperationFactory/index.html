<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KukaiCoreSwift - OperationFactory</title>
    <link rel="stylesheet" type="text/css" href="https://kukai.app/kukai-core-swift/all.css" media="all" />
</head>
<body>
    <header>
        <a href="https://kukai.app/kukai-core-swift/">
            <strong>
                KukaiCoreSwift
            </strong>
            <span>Documentation</span>
        </a>
    </header>

    <!--
    <form class="search">
        <input type="search" placeholder="Search" />
    </form>
    -->

    <nav>
        <div class="wrapper">
            <h2>On This Page</h2>
            <ol><li><a href="#methods">Methods</a><ul><li class="function"><a href="#operationfactory.sendoperation(_:of:from:to:)">send​Operation(_:​of:​from:​to:​)</a></li><li class="function"><a href="#operationfactory.delegateoperation(to:from:)">delegate​Operation(to:​from:​)</a></li><li class="function"><a href="#operationfactory.undelegateoperation(address:)">undelegate​Operation(address:​)</a></li><li class="function"><a href="#operationfactory.allowanceoperation(tokenaddress:spenderaddress:allowance:wallet:)">allowance​Operation(token​Address:​spender​Address:​allowance:​wallet:​)</a></li><li class="function"><a href="#operationfactory.operationpayload(frommetadata:andoperations:withwallet:)">operation​Payload(from​Metadata:​and​Operations:​with​Wallet:​)</a></li><li class="function"><a href="#operationfactory.createdextertimestampstring(nowplustimeinterval:)">create​Dexter​Timestamp​String(now​Plus​Time​Interval:​)</a></li></ul></li></ol>
        </div>
    </nav>

    <main>
        <article>
            <h1>
    <small>Class</small>
    <code class="name">Operation​Factory</code>
</h1>

<div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">class</span> <span class="type">OperationFactory</span>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Class responsible for creating operations necessary to perform a given action, and converting those operations into the single payload expected by the RPC.
Although not every action requires more than one operation, all functions will return an array, for consistency.</p>

</div>

    <section id="methods">
        <h2>Methods</h2>

        <div role="article" class="function" id="operationfactory.sendoperation(_:of:from:to:)">
    <h3>
        <code><a href="#operationfactory.sendoperation(_:of:from:to:)">send​Operation(_:​of:​from:​to:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">sendOperation</span>(<span class="keyword">_</span> <span class="variable">tokenAmount</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">of</span> <span class="variable">token</span>: <a href="https://kukai.app/kukai-core-swift/Token"><span class="type">Token</span></a>, <span class="variable">from</span>: <span class="type">String</span>, <span class="variable">to</span>: <span class="type">String</span>) -&gt; [<a href="https://kukai.app/kukai-core-swift/Operation"><span class="type">Operation</span></a>]  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create the operations necessary to send an amount of a token to a destination address.</p>

</div>
<div class="discussion">
    <ul>
<li>
<p>parameter _: The amount of the given token to send.</p>
</li>
</ul>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>of</th>
    <td><code class="type">Token</code></td>
    <td><p>The <code>Token</code> type that will be sent.</p>
</td>
</tr>
<tr>
    <th>from</th>
    <td><code class="type">String</code></td>
    <td><p>The address to deduct the funds from.</p>
</td>
</tr>
<tr>
    <th>to</th>
    <td><code class="type">String</code></td>
    <td><p>The destination address that will recieve the funds.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An array of <code>Operation</code> subclasses.</p>

</div>
<div role="article" class="function" id="operationfactory.delegateoperation(to:from:)">
    <h3>
        <code><a href="#operationfactory.delegateoperation(to:from:)">delegate​Operation(to:​from:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">delegateOperation</span>(<span class="variable">to</span>: <span class="type">String</span>, <span class="variable">from</span>: <span class="type">String</span>) -&gt; [<a href="https://kukai.app/kukai-core-swift/Operation"><span class="type">Operation</span></a>]  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create the operations necessary to delegate funds to a baker.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>to</th>
    <td><code class="type">String</code></td>
    <td><p>The address of the baker to delegate to.</p>
</td>
</tr>
<tr>
    <th>from</th>
    <td><code class="type">String</code></td>
    <td><p>The address that wishes to delegate its funds.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An array of <code>Operation</code> subclasses.</p>

</div>
<div role="article" class="function" id="operationfactory.undelegateoperation(address:)">
    <h3>
        <code><a href="#operationfactory.undelegateoperation(address:)">undelegate​Operation(address:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">undelegateOperation</span>(<span class="variable">address</span>: <span class="type">String</span>) -&gt; [<a href="https://kukai.app/kukai-core-swift/Operation"><span class="type">Operation</span></a>]  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create the operations necessary to remove the current delegate from an address.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>address</th>
    <td><code class="type">String</code></td>
    <td><p>The address that wishes to remove its delegate.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An array of <code>Operation</code> subclasses.</p>

</div>
<div role="article" class="function" id="operationfactory.allowanceoperation(tokenaddress:spenderaddress:allowance:wallet:)">
    <h3>
        <code><a href="#operationfactory.allowanceoperation(tokenaddress:spenderaddress:allowance:wallet:)">allowance​Operation(token​Address:​spender​Address:​allowance:​wallet:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">allowanceOperation</span>(<span class="variable">tokenAddress</span>: <span class="type">String</span>, <span class="variable">spenderAddress</span>: <span class="type">String</span>, <span class="variable">allowance</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">wallet</span>: <a href="https://kukai.app/kukai-core-swift/Wallet"><span class="type">Wallet</span></a>) -&gt; <a href="https://kukai.app/kukai-core-swift/Operation"><span class="type">Operation</span></a>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create the operations necessary to register an allowance, allowing another address to send FA tokens on your behalf.
Used when interacting with smart contract applications like Dexter or QuipuSwap</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>xxxxx</th>
    <td></td>
    <td><p>yyyyy</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An array of <code>Operation</code> subclasses.</p>

</div>
<div role="article" class="function" id="operationfactory.operationpayload(frommetadata:andoperations:withwallet:)">
    <h3>
        <code><a href="#operationfactory.operationpayload(frommetadata:andoperations:withwallet:)">operation​Payload(from​Metadata:​and​Operations:​with​Wallet:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">operationPayload</span>(<span class="variable">fromMetadata</span> <span class="variable">metadata</span>: <a href="https://kukai.app/kukai-core-swift/OperationMetadata"><span class="type">OperationMetadata</span></a>, <span class="variable">andOperations</span> <span class="variable">operations</span>: [<a href="https://kukai.app/kukai-core-swift/Operation"><span class="type">Operation</span></a>], <span class="variable">withWallet</span> <span class="variable">wallet</span>: <a href="https://kukai.app/kukai-core-swift/Wallet"><span class="type">Wallet</span></a>) -&gt; <a href="https://kukai.app/kukai-core-swift/OperationPayload"><span class="type">OperationPayload</span></a>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Convert an array of operations into the format expected by the RPC. Will also inject a <code>OperationReveal</code> if the sender has not yet revealed their public key.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>from​Metadata</th>
    <td><code class="type">Operation​Metadata</code></td>
    <td><p><code>OperationMeatdata</code> containing necessary data to form the object.</p>
</td>
</tr>
<tr>
    <th>and​Operations</th>
    <td><code class="type">[Operation]</code></td>
    <td><p>An array of <code>Operation</code> subclasses to send.</p>
</td>
</tr>
<tr>
    <th>with​Wallet</th>
    <td><code class="type">Wallet</code></td>
    <td><p>The <code>Wallet</code> instance that will be responsible for these operations.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An instance of <code>OperationPayload</code> that can be sent to the RPC</p>

</div>
<div role="article" class="function" id="operationfactory.createdextertimestampstring(nowplustimeinterval:)">
    <h3>
        <code><a href="#operationfactory.createdextertimestampstring(nowplustimeinterval:)">create​Dexter​Timestamp​String(now​Plus​Time​Interval:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">createDexterTimestampString</span>(<span class="variable">nowPlusTimeInterval</span>: <span class="type">TimeInterval</span>) -&gt; <span class="type">String</span>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Dexter requires date strings to act as deadline dates for exchanges.
This function takes a <code>TimeInterval</code> and uses it to createa date in the future, and returns that as a formatted string.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>now​Plus​Time​Interval</th>
    <td><code class="type">Time​Interval</code></td>
    <td><p>The amount of time in the future the date string should represent.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>A formatted date <code>String</code></p>

</div>
    </section>



        </article>
    </main>

    <footer>
        <p>
    Generated on <time datetime="2021-10-27T13:07:17+0000">October 27, 2021</time> using <a href="https://github.com/SwiftDocOrg/swift-doc">swift-doc</a> <span class="version">1.0.0-rc.1</span>.
</p>
    </footer>
</body>
</html>
